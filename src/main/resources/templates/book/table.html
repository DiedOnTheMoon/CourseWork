<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      lang="en">
<head th:include="parts/common.html :: commonHead">
    <meta charset="UTF-8">
    <title>Book table</title>
</head>
<body>
    <div th:include="parts/common.html :: navigation"></div>
    <form class="pt-5 pb-5" method="post" th:action="@{/book/filter/}">
        <label> Search
            <input type="text" name="filter">
            <input class="btn btn-dark" type="submit" value="Search">
        </label>
    </form>
    <table class="table table-striped table-bordered">
        <thead class="thead-dark">
            <tr>
                <th scope="col"> Title </th>
                <th scope="col"> Author </th>
                <th scope="col"> Genre </th>
                <th scope="col"> Language </th>
                <th scope="col"> Publisher </th>
                <th scope="col"> Year </th>
                <th scope="col"> Price </th>
                <th scope="col"> Edit </th>
                <th scope="col"> Delete </th>
                <th scope="col"> Detailed view </th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="book : ${books}">
                <td th:text="${book.bookName}"></td>
                <td th:text="${book.author.authorName}"></td>
                <td th:text="${book.genre.genreName}"></td>
                <td th:text="${book.getLanguage().languageName}"></td>
                <td th:text="${book.publisher.publisherName}"></td>
                <td th:text="${book.year}"></td>
                <td th:text="${book.price}"></td>
                <td><a th:href="@{/book/edit/{id}(id=${book.id})}">Edit</a></td>
                <td>
                    <form th:method="DELETE" th:action="@{/book/delete/{id}(id=${book.id})}">
                        <input type="submit" value="DELETE">
                    </form>
                </td>
                <td><a th:href="@{/book/{id}(id=${book.id})}"> Detailed view</a></td>
            </tr>
        </tbody>
    </table>
</body>
</html>